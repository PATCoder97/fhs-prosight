---
name: Register router and add openpyxl dependency
status: completed
created: 2026-01-10T09:10:21Z
updated: 2026-01-12T00:24:38Z
github: https://github.com/PATCoder97/fhs-prosight/issues/44
depends_on: [41, 43]
parallel: false
conflicts_with: []
---

# Task: Register Router and Add openpyxl Dependency

## Description

Complete the integration by registering the evaluations router in the main FastAPI application and adding the openpyxl library to requirements.txt for Excel file processing.

## Acceptance Criteria

- [ ] openpyxl dependency added to `backend/requirements.txt`
- [ ] Evaluations router imported in `backend/app/main.py`
- [ ] Router registered with correct prefix and tags
- [ ] Dependencies installed with `pip install -r requirements.txt`
- [ ] API documentation accessible at /docs showing new endpoints
- [ ] Both endpoints visible: POST /api/evaluations/upload, GET /api/evaluations/search
- [ ] OpenAPI schema includes evaluations tag

## Technical Details

**Dependencies** (`backend/requirements.txt`):
```
openpyxl>=3.1.0
```

**Router Registration** (`backend/app/main.py`):
```python
from app.routers import evaluations

app.include_router(
    evaluations.router,
    prefix="/api/evaluations",
    tags=["evaluations"]
)
```

**Router Setup** (`backend/app/routers/evaluations.py`):
```python
from fastapi import APIRouter

router = APIRouter()

# Endpoints already implemented in Tasks 004 and 006
```

**Verification Steps**:
1. Add openpyxl to requirements.txt
2. Install: `pip install -r backend/requirements.txt`
3. Import evaluations router in main.py
4. Register router with prefix="/api/evaluations"
5. Start server: `uvicorn app.main:app --reload`
6. Check /docs endpoint for new routes
7. Verify both endpoints listed under "evaluations" tag

## Dependencies

- [ ] Task 004 completed (upload endpoint exists)
- [ ] Task 006 completed (search endpoint exists)
- [ ] FastAPI app configured (existing)
- [ ] Router pattern established (existing from other APIs)

## Effort Estimate

- Size: XS
- Hours: 1
- Parallel: false (depends on Tasks 004, 006)

## Definition of Done

- [ ] openpyxl>=3.1.0 added to requirements.txt
- [ ] openpyxl successfully installed (no installation errors)
- [ ] Evaluations router imported in main.py
- [ ] Router registered with correct prefix ("/api/evaluations")
- [ ] Server starts without errors
- [ ] /docs shows both endpoints under "evaluations" tag
- [ ] POST /api/evaluations/upload visible in OpenAPI docs
- [ ] GET /api/evaluations/search visible in OpenAPI docs
- [ ] Can access endpoints via /api/evaluations prefix
- [ ] Committed with message: "Issue #XX: Register evaluations router and add openpyxl dependency"
